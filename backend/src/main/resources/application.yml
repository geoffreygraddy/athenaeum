server:
  port: 8080
  servlet:
    context-path: /

spring:
  application:
    name: athenaeum-backend
  
  # Database configuration (H2 in-memory for development)
  datasource:
    url: jdbc:h2:mem:athenaeum
    driver-class-name: org.h2.Driver
    username: sa
    password:
  
  # SQL initialization
  sql:
    init:
      mode: always
      schema-locations: classpath:schema.sql
      data-locations:
  
  # JPA configuration
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: update
    show-sql: false
  
  # H2 Console (for development only)
  h2:
    console:
      enabled: true
      path: /h2-console
  
  # Session management configuration
  session:
    store-type: jdbc
    timeout: 30m
  
  # Security configuration
  # NOTE: Configure these via environment variables in production:
  # SPRING_SECURITY_USER_NAME and SPRING_SECURITY_USER_PASSWORD
  security:
    user:
      name: ${SPRING_SECURITY_USER_NAME:admin}
      password: ${SPRING_SECURITY_USER_PASSWORD:changeme}

# Actuator configuration for health checks
management:
  endpoints:
    web:
      exposure:
        include: health,info
      base-path: /actuator
  endpoint:
    health:
      show-details: when-authorized

# Logging configuration
logging:
  level:
    root: INFO
    com.athenaeum.backend: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

---
# Oracle Database Profile
spring:
  config:
    activate:
      on-profile: oracle
  
  datasource:
    url: jdbc:oracle:thin:@${ORACLE_HOST:localhost}:${ORACLE_PORT:1521}:XE
    driver-class-name: oracle.jdbc.OracleDriver
    username: ${ORACLE_USERNAME:system}
    password: ${ORACLE_PASSWORD:OraclePassword123}
  
  jpa:
    database-platform: org.hibernate.dialect.OracleDialect
    hibernate:
      ddl-auto: update
    show-sql: true
  
  # H2 Console disabled for Oracle profile
  h2:
    console:
      enabled: false
  
  sql:
    init:
      mode: never

